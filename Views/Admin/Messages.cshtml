@{
    Layout = "~/Views/Shared/_Admin_Layout.cshtml";
    ViewData["Title"] = "Messages";
}
@model IEnumerable<Nexus_Service_Marketing.Models.Contact>

<div style="padding: 40px; background-color: #f4f7f6; min-height: 100vh; font-family: 'Segoe UI', sans-serif;">
    <div style="max-width: 1100px; margin: 0 auto;">

        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; background: white; padding: 20px 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
            <div>
                <h2 style="color: #1a237e; margin: 0; font-weight: 800;">Admin <span style="color: #d32f2f;">Inbox</span></h2>
                <p style="color: #777; margin: 5px 0 0 0;">Manage your customer inquiries and messages</p>
            </div>
            <div style="background: #eef0f2; padding: 10px 20px; border-radius: 8px; font-weight: 700; color: #1a237e;">
                Total: @Model.Count()
            </div>
        </div>

        <div style="background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); overflow: hidden; border: 1px solid #e0e0e0;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #1a237e; color: white; text-align: left;">
                        <th style="padding: 18px 25px; font-size: 13px; text-transform: uppercase;">Sender</th>
                        <th style="padding: 18px 25px; font-size: 13px; text-transform: uppercase;">Subject</th>
                        <th style="padding: 18px 25px; font-size: 13px; text-transform: uppercase;">Message Content</th>
                        <th style="padding: 18px 25px; font-size: 13px; text-transform: uppercase; text-align: center;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var m in Model)
                    {
                        <tr style="border-bottom: 1px solid #eee; transition: background 0.2s;" onmouseover="this.style.background='#f9faff'" onmouseout="this.style.background='transparent'">
                            <td style="padding: 20px 25px;">
                                <div style="font-weight: 700; color: #333;">@m.Name</div>
                                <div style="font-size: 12px; color: #999;">@m.Email</div>
                            </td>
                            <td style="padding: 20px 25px; font-weight: 600; color: #1a237e;">
                                @m.Subject
                            </td>
                            <td style="padding: 20px 25px; color: #666; font-size: 14px; max-width: 300px;">
                                <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">@m.Message</div>
                            </td>
                            <td style="padding: 20px 25px; text-align: center;">
                                <form asp-action="Delete" asp-route-id="@m.ContactId" method="post" onsubmit="return confirm('Are you sure you want to delete this message?');">
                                    <button type="submit" style="background: #fff0f0; color: #d32f2f; border: 1px solid #fcc; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 700; transition: 0.3s;"
                                            onmouseover="this.style.background='#d32f2f'; this.style.color='white';"
                                            onmouseout="this.style.background='#fff0f0'; this.style.color='#d32f2f';">
                                        🗑️ Delete
                                    </button>
                                </form>
                            </td>
                        </tr>
                    }
                    @if (!Model.Any())
                    {
                        <tr>
                            <td colspan="4" style="padding: 60px; text-align: center; color: #999; font-style: italic;">
                                Your inbox is currently empty.
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>